(function(){
	'use strict';
	angular
		.module('webraovatApp')
		.controller('UserController', UserController);
	UserController.$inject = ['$http', '$state'];
	function UserController($http, $state){
		var vm = this;
		vm.users = [];
		vm.load = load;
		
		vm.load();
		
		function load() {
			$http({
				url : "UserController?action=getall",
				method: "POST",
			}).then(function(response) {
				vm.users = response.data;
				console.log(vm.users);
	        }, function(response) {
	            console.log(response);
	        });
		}
		
		vm.showUser = function(id) {
			console.log("hi", id);
			$state.go("user-create", {id: id});
		}
	}
	
})();