(function(){
	'use strict';
	angular
		.module('webraovatApp')
		.controller('UserDetailController', UserDetailController);
	
	UserDetailController.$inject = ['userID', '$http'];
	function UserDetailController(userID, $http){
		var vm = this;
		vm.user = {};
		vm.load = load;
		vm.load();
		
		function load(){
			$http({
				url: "UserController?action=detail",
				method: "POST",
				params: {
					userID: userID
				}
			}).then(function(response) {
				vm.user = response.data;
				formatData();
	        }, function(response) {
	            console.log(response);
	        });
		}
		
		function formatData(){
			if(vm.user.birthday) {
				vm.user.birthday = new Date(vm.user.birthday);
			}
			vm.user.level = vm.user.level.toString();
			vm.user.gender = vm.user.gender.toString(); 
		}
	}
	
})();